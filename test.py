import streamlit as st

st.set_page_config(page_title="고양이 집사력 테스트 🐾", page_icon="🐱")

st.title("🐱 고양이 집사력 테스트 🐾")
st.write("당신은 어떤 집사 타입일까요? 12가지 질문에 답해보세요! 😺")

questions = [
    ("고양이가 새벽 3시에 뛰어다닌다면?",
     ["같이 놀아준다 🧭", "이불 뒤집어쓰고 무시한다 🛋️", "조용히 '쉿!' 한다 😼", "간식 하나 주고 다시 잔다 🐟"]),
    ("고양이가 식탁 위에 올라왔다!",
     ["재밌으니까 그냥 둔다 🧭", "단호하게 안 된다고 한다 😼", "올라와도 상관없다 🛋️", "간식으로 유도해서 내려오게 한다 🐟"]),
    ("새로운 캣타워를 들일 기회가 생겼다!",
     ["바로 설치한다 🧭", "있던 거 쓰라고 한다 😼", "고양이가 좋아하면 들인다 🛋️", "간식 보관함부터 산다 🐟"]),
    ("고양이가 창밖을 뚫어져라 본다...",
     ["같이 본다 🧭", "창문 닫아버린다 😼", "사진 찍는다 🛋️", "간식으로 시선 돌린다 🐟"]),
    ("고양이가 처음 보는 손님을 경계한다면?",
     ["같이 놀게 해준다 🧭", "손님한테 조용히 있으라 한다 😼", "고양이가 숨어있게 둔다 🛋️", "간식으로 친해지게 한다 🐟"]),
    ("고양이가 장난감을 안 건드린다...",
     ["새로운 걸 시도한다 🧭", "그냥 둔다 😼", "고양이가 원할 때 주면 된다 🛋️", "간식 숨겨둔 장난감을 쓴다 🐟"]),
    ("캣닢을 발견했다!",
     ["바로 준다 🧭", "필요 없다고 생각한다 😼", "상황 봐서 준다 🛋️", "간식이 먼저다 🐟"]),
    ("고양이가 창문 틈으로 나가려 한다...",
     ["같이 막는다 🧭", "혼낸다 😼", "그냥 막고 신경 안 쓴다 🛋️", "간식으로 안 나오게 한다 🐟"]),
    ("집사인 내가 기분이 별로일 때...",
     ["고양이랑 더 논다 🧭", "모른 척 한다 😼", "그냥 같이 쉰다 🛋️", "간식 챙겨주며 위로받는다 🐟"]),
    ("고양이가 갑자기 뛰어와서 안긴다!",
     ["같이 뛰논다 🧭", "어리둥절해한다 😼", "따뜻하게 안아준다 🛋️", "간식 하나 꺼낸다 🐟"]),
    ("고양이가 발톱을 세운다...",
     ["스크래처 새로 들인다 🧭", "혼내며 말린다 😼", "그냥 두고본다 🛋️", "간식으로 시선 돌린다 🐟"]),
    ("고양이가 밥을 안 먹는다...",
     ["새로운 사료를 시도한다 🧭", "그냥 둔다 😼", "시간 지나면 먹을 거라 생각한다 🛋️", "간식 먼저 준다 🐟"]),
]

# 결과 점수 계산용 카운트
scores = {"탐험가 집사 🧭": 0, "츤데레 집사 😼": 0, "집콕 집사 🛋️": 0, "츄르 마스터 집사 🐟": 0}

# 사용자 선택 저장
answers = []

st.header("🐾 질문 시작!")
for i, (q, opts) in enumerate(questions, 1):
    choice = st.radio(f"{i}. {q}", opts, index=None, key=f"q{i}")
    answers.append(choice)

if st.button("결과 보기 🐱"):
    for ans in answers:
        if ans:
            if "🧭" in ans:
                scores["탐험가 집사 🧭"] += 1
            elif "😼" in ans:
                scores["츤데레 집사 😼"] += 1
            elif "🛋️" in ans:
                scores["집콕 집사 🛋️"] += 1
            elif "🐟" in ans:
                scores["츄르 마스터 집사 🐟"] += 1

    best_type = max(scores, key=scores.get)

    st.subheader("🐾 당신의 집사 타입은...")
    st.success(f"✨ {best_type} ✨")

    st.write("고양이 집사 점수 : ", sum(scores.values()), "점 / 12점 🐱🐾")
